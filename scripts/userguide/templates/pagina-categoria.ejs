<!DOCTYPE html>
<html lang="ca">
<!--Pàgina autogenerada-->

<head>
    <title><%=titolPagina%></title>
    <meta charset="utf-8">
    <% if (DEBUG) { %>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({TeX: {extensions: ["cancel.js"]},CommonHTML: { linebreaks: { automatic: true } },"HTML-CSS": { linebreaks: { automatic: true } },SVG: { linebreaks: { automatic: true } }});
            </script>
        <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
            integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="../../styles/iedib-avirtual-stylesheet-div37.css">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
            integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
            crossorigin="anonymous" />
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.slim.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>
        <script src="https://piworld.es/iedib/node_modules/handlebars/dist/handlebars.min.js"></script>
        <script src="https://piworld.es/iedib/node_modules/js-beautify/js/lib/beautify-html.js"></script>
        <% } %>
</head>

<body>
    <% listSnippets.forEach((snippet) => { %>
     <a class="btn btn-sm btn-outline-info" style="margin:5px;width:200px" href="#section-<%=snippet['key']%>">
        <% if(snippet['nou']) { %>
            <i class="fas fa-comment-plus" style="color:darkorange;"></i>
        <% } %>
        <%=snippet['name']%>
    </a>
    <% }) %>
   
    <% seccionsSnippets.forEach((snippet) => { %>
        <%-snippet%>
    <% }) %>
 

    <p><br></p>
    <p><br></p>
    <p><small>Versió revisada <%=revisio%></small></p>

    <% if(!DEBUG) { %>
    <script src="https://ibsuite.es/iedib/node_modules/handlebars/dist/handlebars.min.js"></script>
    <script src="https://ibsuite.es/iedib/node_modules/js-beautify/js/lib/beautify-html.js"></script>
    <% } %>  
    <!--load_all_snippets-->
    <script src="https://ibsuite.es/iedib/snippets/sd/all.min.js"></script> 
    <script>
        <%-jssection%> 
    </script>
    <% if(titolPagina=='Plantilles predefinides') { %>
    <!--only of section 4-->
    <script>
    var infullscreen = {};
    $('button[data-enlargeable]').css({
        cursor: 'zoom-in'
    });
    $('button[data-enlargeable]').click(function() {
        var self = $(this);
        var target = self.attr('data-enlargeable');
        var $src = $('#tabmenu-'+target);
        var modal = infullscreen[target];
        self.css({
            cursor: 'zoom-out'
        });
        var h = $(document).height();
        $('#tab-'+target+'-0').css({
            maxHeight: (h-100)+'px'
        });
        $('#tab-'+target+'-1').css({
            maxHeight: (h-100)+'px'
        });

        function removeModal() {
            modal.remove();
            infullscreen[target] = null;
            $('body').off('keyup.modal-close');
            // remove
            $src.css({
                position: 'relative', 
                zIndex: 'initial',
                top: 'initial',
                bottom: 'initial',
                left: 'initial',
                right: 'initial',
                maxHeight: '400px',
                width: '100%',
             });
             self.css({
                cursor: 'zoom-in'
             });
             $('#tab-'+target+'-0').css({
                maxHeight: '400px'
            });
            $('#tab-'+target+'-1').css({
                maxHeight: '400px'
            });
        }

        if(modal) {
            removeModal();
            return;
        }

        modal = $('<div>').css({ 
            width: '100%',
            height: '100%',
            position: 'absolute',
            zIndex: '9000',
            background: 'rgba(0,0,0,0.4)',
            top: '0',
            left: '0',
            cursor: 'zoom-out'
        }).click(function() {
            removeModal();
        }).appendTo('body');
        infullscreen[target] = modal;

        //handling ESC
        $('body').on('keyup.modal-close', function(e) {
            if (e.key === 'Escape') {
                removeModal();
            }
        });

        $src.css({
            position: 'fixed',
            top: 50,
            right: 50,
            bottom: 50,
            left: 50,
            zIndex: 10000,
            width: '90%',
            maxHeight: 'none'
        });

    });
    </script>
    <% } %>
</body>

</html>